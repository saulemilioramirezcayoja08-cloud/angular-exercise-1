<div class="list-top">
  <div class="container">
    <div class="wrapper" [class.hidden]="!isTextMode()">
      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </g>
      </svg>
      <input type="text" class="input" [placeholder]="getPlaceholder()" [value]="searchQuery()"
             (input)="onQueryChange($any($event.target).value)" autocomplete="off">
    </div>

    <div [class]="getStatusGroupClass()" [class.hidden]="!isStatusMode()">
      <button type="button"
              class="status-button draft"
              [class.active]="selectedStatus() === 'DRAFT'"
              (click)="selectStatus('DRAFT')">
        DRAFT
      </button>
      <button type="button"
              class="status-button confirmed"
              [class.active]="selectedStatus() === 'CONFIRMED'"
              (click)="selectStatus('CONFIRMED')">
        CONFIRMED
      </button>
      <button type="button"
              class="status-button canceled"
              [class.active]="selectedStatus() === 'CANCELED'"
              (click)="selectStatus('CANCELED')">
        CANCELED
      </button>
    </div>

    <div class="date-range" [class.show]="isDateRangeMode()">
      <div class="date-field">
        <label class="date-label">Desde:</label>
        <input type="date" class="date-input" [value]="dateFrom()"
               (change)="onDateFromChange($any($event.target).value)">
      </div>
      <div class="date-field">
        <label class="date-label">Hasta:</label>
        <input type="date" class="date-input" [value]="dateTo()"
               (change)="onDateToChange($any($event.target).value)">
      </div>
      <button type="button" class="search-button"
              [disabled]="!canSearchByDate()"
              (click)="onSearchByDateClick()"
              title="Buscar por rango de fechas">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
          <g id="SVGRepo_iconCarrier">
            <path
              d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </g>
        </svg>
        <span class="label">Buscar</span>
      </button>
    </div>

    <div class="filters">
      <div [class]="getGroupClass()" [class.hidden]="isDateRangeMode()">
        <button type="button" class="button" [class.active]="searchType() === 'number'"
                (click)="changeSearchType('number')">
          <span class="label">NÃºmero</span>
        </button>
        <button type="button" class="button" [class.active]="searchType() === 'status'"
                (click)="changeSearchType('status')">
          <span class="label">Estado</span>
        </button>
        <button type="button" class="button" [class.active]="searchType() === 'username'"
                (click)="changeSearchType('username')">
          <span class="label">Usuario</span>
        </button>
      </div>

      <div class="group-toggle">
        <button type="button" class="toggle" [class.active]="isDateRangeMode()" (click)="toggleDateRangeMode()">
          <svg *ngIf="isDateRangeMode()" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </g>
          </svg>
          <svg *ngIf="!isDateRangeMode()" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"
                stroke="currentColor" stroke-width="2"/>
            </g>
          </svg>
          <span class="label">Rango Fechas</span>
        </button>
      </div>
    </div>
  </div>
</div>
