<div class="stock-availability">
  <div class="header">
    <h3 class="title">Disponibilidad de Stock</h3>
  </div>

  <div class="content">
    <div *ngIf="isLoading()" class="loading-container">
      <div class="spinner"></div>
    </div>

    <div *ngIf="!isLoading() && !productId" class="empty-state">
      <p class="empty-title">Selecciona un producto</p>
      <p class="empty-subtitle">Haz clic en un producto para ver su disponibilidad en almacenes</p>
    </div>

    <div *ngIf="!isLoading() && productId && errorMessage()" class="error-state">
      <p class="error-title">{{ errorMessage() }}</p>
      <p class="error-subtitle">Verifica tu conexión o intenta nuevamente</p>
    </div>

    <div *ngIf="!isLoading() && productId && !errorMessage() && stockData().length === 0" class="empty-state">
      <p class="empty-title">Sin información de stock</p>
      <p class="empty-subtitle">No hay datos de disponibilidad para este producto</p>
    </div>

    <table class="table" *ngIf="!isLoading() && !errorMessage() && stockData().length > 0">
      <thead>
        <tr>
          <th class="header">Almacén</th>
          <th class="header">Existencia</th>
          <th class="header">Reservado</th>
          <th class="header">Disponible</th>
        </tr>
      </thead>
      <tbody>
        <tr class="row" *ngFor="let stock of stockData(); trackBy: trackByWarehouseCode">
          <td class="cell">
            <span class="code">{{ stock.code }}</span>
          </td>
          <td class="cell">
            <span class="value">{{ stock.existence }}</span>
          </td>
          <td class="cell">
            <span class="value">{{ stock.reserved }}</span>
          </td>
          <td class="cell">
            <span class="value">{{ stock.available }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>